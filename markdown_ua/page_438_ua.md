## 12.4.3 Масивне кластерування потоків даних

Як обговорювалося раніше, сценарій з масивним доменом є поширеним у контексті потоків даних. У багатьох випадках може знадобитися працювати з багатовимірним потоком даних, в якому окремі атрибути беруться з масивного домену можливих значень. У таких випадках аналіз потоків стає набагато складнішим, оскільки "стислі" підсумки кластерів стають більш ресурсномісткими. Це також є мотивацією для багатьох структур синопсису, таких як фільтр Блума, скетч count–min, скетч AMS та алгоритм Флажоле–Мартіна.

Проблема кластеризації даних також стає більш складною в сценарії з масивним доменом через складність підтримки стислої статистики кластерів. Нещодавно був розроблений метод CSketch для кластеризації потоків даних з масивним доменом. Ідея цього методу полягає у використанні скетчу count–min для зберігання частот комбінацій атрибут–значення в кожному кластері. Таким чином, кількість використаних скетчів count–min дорівнює кількості кластерів. Застосовується онлайн-кластеризація у стилі k-means, в якій скетч використовується як представник для (дискретних) атрибутів у кластері. Для будь-якої вхідної точки даних обчислюється скалярний добуток щодо кожного кластера.

Обчислення виконується наступним чином. Для кожної комбінації атрибут–значення в d-вимірах застосовується функція хешування h_r(·) до неї для певного значення r. Визначається частота відповідної комірки скетчу. Частоти всіх відповідних комірок скетчу для d різних вимірів додаються разом. Це дає оцінку скалярного добутку. Для отримання більш точної оцінки використовується мінімальне значення за різними функціями хешування (різні значення r). Скалярний добуток ділиться на загальну частоту елементів у кластері, щоб уникнути зміщення до кластерів з багатьма точками даних.

Це обчислення можна виконати точно, оскільки скетч count–min може точно обчислити скалярний добуток у малому просторі. Точка даних призначається до кластера, з яким вона має найбільший скалярний добуток. Після цього оновлюється статистика в скетчі, що представляє цей конкретний кластер. Таким чином, цей підхід має спільну характеристику з мікрокластеризацією з точки зору того, як точки даних поступово призначаються до кластерів. Однак він не реалізує кроки злиття та видалення. Крім того, для підтримки статистики кластерів використовується представлення скетчу замість представлення мікрокластера. Можна показати теоретичні гарантії якості кластеризації щодо кластеризації, яка має нескінченний простір. У бібліографічних примітках є посилання на ці результати.

## 12.5 Виявлення викидів у потоках даних

Проблема виявлення викидів у потоках даних, як правило, виникає або в контексті багатовимірних потоків даних, або в контексті часових рядів. Виявлення викидів у багатовимірних потоках даних загалом досить відрізняється від виявлення викидів у часових рядах. В останньому випадку