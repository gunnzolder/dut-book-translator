Агломеративне кластерування $m$ документів у першій ітерації алгоритму фракціонування вимагає $O(m^2)$ часу для кожної групи, і сумарно $O(n \cdot m)$ для $n/m$ різних груп. Оскільки кількість індивідів зменшується геометрично з коефіцієнтом $\nu$ на кожній ітерації, загальний час виконання для всіх ітерацій становить $O(n \cdot m \cdot (1 + \nu + \nu^2 + \ldots))$. Для $\nu < 1$ час виконання для всіх ітерацій все ще становить $O(n \cdot m)$. Вибираючи $m = O(k)$, можна забезпечити час виконання $O(n \cdot k)$ для процедури ініціалізації.

Процедури buckshot та фракціонування вимагають $O(k \cdot n)$ часу. Це еквівалентно часу виконання однієї ітерації алгоритму $k$-середніх. Як обговорюється нижче, це важливо для (асимптотичного) балансування часу виконання двох фаз алгоритму.

Коли початкові центри кластерів визначені за допомогою алгоритмів buckshot або фракціонування, можна застосувати алгоритм $k$-середніх з отриманими на першому кроці зародками. Кожен документ призначається до найближчого з $k$ центрів кластерів. Центроїд кожного такого кластера визначається як конкатенація документів у цьому кластері. Крім того, менш частотні слова кожного центроїда видаляються. Ці центроїди замінюють зародки з попередньої ітерації. Цей процес можна повторювати ітеративно для уточнення центрів кластерів. Зазвичай потрібна лише невелика константна кількість ітерацій, оскільки найбільші поліпшення відбуваються лише в перших кількох ітераціях. Це забезпечує, що загальний час виконання кожної з перших і других фаз становить $O(k \cdot n)$.

Також можна використовувати низку вдосконалень після другої фази кластеризації. Ці вдосконалення такі:

- **Операція розділення**: Процес розділення можна використовувати для подальшого уточнення кластерів у групи кращої гранулярності. Це можна досягти, застосувавши процедуру buckshot до окремих документів у кластері, використовуючи $k = 2$, а потім повторно кластеризувати навколо цих центрів. Ця процедура вимагає $O(k \cdot n_i)$ часу для кластера, що містить $n_i$ документів, а отже, розділення всіх груп вимагає $O(k \cdot n)$ часу. Однак немає необхідності розділяти всі групи. Замість цього можна розділити лише підмножину груп. Це групи, які не дуже узгоджені та містять документи різноманітної природи. Для вимірювання узгодженості групи обчислюється самоподібність документів у кластері. Ця самоподібність дає уявлення про основну узгодженість. Цю величину можна обчислити або як середню подібність документів у кластері до його центроїда, або як середню подібність документів кластера один до одного. Потім критерій розділення можна застосовувати вибірково лише до тих кластерів, які мають низьку самоподібність. Це допомагає створювати більш узгоджені кластери.

- **Операція об'єднання**: Операція об'єднання поєднує подібні кластери в один кластер. Для виконання об'єднання обчислюються тематичні слова кожного кластера як найчастотніші слова в центроїді кластера. Два кластери вважаються подібними, якщо існує значне перекриття між тематичними словами двох кластерів.

Підхід scatter/gather є ефективним завдяки своїй здатності поєднувати ієрархічні та алгоритми $k$-середніх.

## 13.3.2 Імовірнісні алгоритми

Імовірнісне кластерування тексту можна розглядати як неконтрольовану версію методу класифікації наївного Баєса, обговореного в розділі 10.5.1 глави 10. Припускається, що документи потрібно призначити до одного з $k$ кластерів $g_1 \ldots g_k$. Основна ідея полягає у використанні такого генеративного процесу: